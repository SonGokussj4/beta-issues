{% extends "header.html" %}

{% macro render_field(field) %}
  <dt>{{ field.label }}</dt>
  <dd>{{ field(**kwargs)|safe }}
  {% if field.errors %}
    <ul class=errors>
    {% for error in field.errors %}
      <li>{{ error }}</li>
    {% endfor %}
    </ul>
  {% endif %}
  </dd>
{% endmacro %}

{% block body %}

<body>
  <div class="container">
    <h4>Register</h4>
    <br>
    {# {% from "_formhelpers.html" import render_field %} #}
    <form method=post action="{{ url_for('register_page') }}">
      <dl>
        {{ render_field(form.username) }}
        {{ render_field(form.email) }}
        {{ render_field(form.password) }}
        {{ render_field(form.confirm) }}
        {{ render_field(form.accept_tos) }}
      </dl>
      <p><input type=submit value=Register></p>
    </form>

    {% if error %}
      <p class="error"><strong>Error: </strong>{{ error }}</p>
    {% endif %}

  </div>
</body>


{% endblock %}